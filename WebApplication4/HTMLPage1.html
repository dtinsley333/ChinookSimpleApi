<html>
<head>
    Google Chart Example
</head>
<body>
    <link rel="stylesheet" type="text/css" href="//visapi-gadgets.googlecode.com/svn/trunk/pilesofmoney/pom.css" />
    <script type="text/javascript" src="//visapi-gadgets.googlecode.com/svn/trunk/pilesofmoney/pom.js"></script>
    <script type='text/javascript' src='//www.google.com/jsapi'></script>
    <script type="text/javascript">
        google.load('visualization', '1', { packages: ["corechart"] });
        google.setOnLoadCallback(drawPileOfMoney);

        function drawPileOfMoney() {

            // Savings Opportunity
            var savingsJsonData = $.ajax({
                url: '@Html.Raw(Url.RouteUrl(FacilitySpendDashboardController.JsonSavingsOpportunitiesRouteName, new {month = @Model.Month, year = @Model.Year, source=@Model.Source}, Request.Url.Scheme))',
                dataType: "json",
                async: false
            }).responseText;

            var savingsData = new google.visualization.DataTable(savingsJsonData);

            var moneyOptions = {
                legend: { position: "none" },
                vAxis: {
                    minValue: 0,
                },
                hAxis: {
                    textPosition: 'none',


                },
                bar: { groupWidth: "95%" },
                chartArea: {
                    left: 150,
                    width: '80%'
                }
            };
            var view = new google.visualization.DataView(savingsData);
            view.setColumns([
                0, 1,
                {
                    sourceColumn: 2,
                    role: "annotation"
                },
                {
                    sourceColumn: 3,
                    role: "style"
                }
            ]);

            var barChart = new google.visualization.BarChart(document.getElementById('stack_o_money_div'));
            barChart.draw(view, moneyOptions);
        }
    </script>
</body>
</html>
